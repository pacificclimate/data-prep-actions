common: &common
  - $one:
      ensemble_name: p2a_classic
      models: [PCIC12, anusplin]
      emissions:
        - "historical,rcp85"
        - "historical, rcp85"
        - "historical"
  - $each:
      variable_name:
#        - cdd
#        - ffd
#        - gdd
#        - hdd
        - pr
        - prsn
        - tasmean
  - $each:
      year:
#        - 1977
#        - 2025
        - 2055
#        - 2085
  - $union:
#    - $one:
#        timescale: yearly
#    - $combinations:
#        - $one:
#            timescale: seasonal
#        - $each:
#            season:
#              - winter
##              - spring
##              - summer
##              - fall
    - $combinations:
        - $one:
            timescale: monthly
        - $each:
            month:
              - jan
#              - feb
#              - mar
#              - apr
#              - may
#              - jun
#              - jul
#              - aug
#              - sep
#              - oct
#              - nov
#              - dec
  - $one:
      delay: 1
      interval: 0
      count: 1
      dataset_type: static
      version: "1.3.0"
      request: GetMap
      crs: "EPSG:4326"
      width: 256
      height: 256
      item: timesteps
  - $each:
      bbox:
        - "-137.5,52.50000000000001,-125.00000000000001,65"
        - "-125.00000000000001,52.50000000000001,-112.5,65"
        - "-137.5,65,-125.00000000000001,77.5"
        - "-125.00000000000001,65,-112.5,77.5"
        - "-137.5,40,-125.00000000000001,52.50000000000001"
        - "-125.00000000000001,40,-112.5,52.50000000000001"
        - "-150,65,-137.5,77.5"
        - "-150,52.50000000000001,-137.5,65"
        - "-137.5,77.5,-125.00000000000001,90"
        - "-150,77.5,-137.5,90"
        - "-125.00000000000001,77.5,-112.5,90"
        - "-150,40,-137.5,52.50000000000001"

runs:
  - name: nocache-X
    params:
      $combinations:
        $merge:
          - *common
          -
            - $one:
                ncwms: http://docker-dev01.pcic.uvic.ca:30510/dynamic/x
                title: nocache-X
  - name: nocache-A
    params:
      $combinations:
        $merge:
          - *common
          -
            - $one:
                ncwms: http://docker-dev01.pcic.uvic.ca:30511/dynamic/x
                title: "nocache-A"
  - name: nocache-B
    params:
      $combinations:
        $merge:
          - *common
          -
            - $one:
                ncwms: http://docker-dev01.pcic.uvic.ca:30512/dynamic/x
                title: "nocache-B"
  - name: nocache-C
    params:
      $combinations:
        $merge:
          - *common
          -
            - $one:
                ncwms: http://docker-dev01.pcic.uvic.ca:30513/dynamic/x
                title: "nocache-C"
  - name: nocache-D
    params:
      $combinations:
        $merge:
          - *common
          -
            - $one:
                ncwms: http://docker-dev01.pcic.uvic.ca:30514/dynamic/x
                title: "nocache-D"
  - name: nocache-E
    params:
      $combinations:
        $merge:
          - *common
          -
            - $one:
                ncwms: http://docker-dev01.pcic.uvic.ca:30515/dynamic/x
                title: "nocache-E"
  - name: nocache-F
    params:
      $combinations:
        $merge:
          - *common
          -
            - $one:
                ncwms: http://docker-dev01.pcic.uvic.ca:30516/dynamic/x
                title: "nocache-F"
